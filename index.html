<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>حاسبة ربحية المنتج</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <h1>حاسبة ربحية المنتج والشحن</h1>
    <div class="layout">
      <section class="card">
        <h2>المدخلات</h2>

        <div class="row">
          <div class="field">
            <label for="productName">اسم المنتج</label>
            <input id="productName" placeholder="مثال: سيرم فيتامين C" />
          </div>
          <div class="field">
            <label for="currency">العملة</label>
            <input id="currency" value="EGP" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="cost">تكلفة المنتج للقطعة</label>
            <input id="cost" type="number" step="0.01" value="150" />
          </div>
          <div class="field">
            <label for="sellPrice">سعر البيع للقطعة (شامل الشحن)</label>
            <input id="sellPrice" type="number" step="0.01" value="300" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="shipDelivered">تكلفة شحن القطعة المسلمة</label>
            <input id="shipDelivered" type="number" step="0.01" value="50" />
          </div>
          <div class="field">
            <label for="shipReturned">تكلفة شحن القطعة المرتجعة</label>
            <input id="shipReturned" type="number" step="0.01" value="25" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="targetQty">التارجت (عدد المنتجات / الأوردرات)</label>
            <input id="targetQty" type="number" step="1" value="500" />
          </div>
          <div class="field">
            <label for="confirmRate">نسبة التأكيدات (اكتب 70 أو 0.7)</label>
            <input id="confirmRate" type="number" step="0.01" value="70" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="deliveryRate">نسبة التسليم من المأكد (اكتب 80 أو 0.8)</label>
            <input id="deliveryRate" type="number" step="0.01" value="80" />
          </div>
          <div class="field">
            <label for="cppList">CPP List (مثال: 40,50,108)</label>
            <input id="cppList" value="40,50,108,120,150" />
          </div>
        </div>

        <p class="hint">
          طريقة الحساب: المؤكد = التارجت × نسبة التأكيد، المسلَّم = المؤكد × نسبة التسليم، المرتجع = المؤكد - المسلَّم.
        </p>
      </section>

      <section class="card">
        <h2>النتائج</h2>
        <div id="kpis" class="kpis"></div>

        <table>
          <thead>
            <tr>
              <th>البند</th>
              <th>القيمة</th>
            </tr>
          </thead>
          <tbody id="details"></tbody>
        </table>

        <h2 class="ads-title">Calculate Profit After Ads</h2>
        <table>
          <thead>
            <tr>
              <th>Average CPP</th>
              <th>Total Ads Spent</th>
              <th>Net Profit</th>
            </tr>
          </thead>
          <tbody id="adsRow"></tbody>
        </table>

        <button id="openBuyerSalaryModal" class="action-btn" type="button">عرض تقسيم مرتب الميديا باير</button>
      </section>
    </div>
  </div>

  <div id="buyerSalaryModal" class="modal" aria-hidden="true">
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="buyerSalaryTitle">
      <div class="modal-head">
        <h2 id="buyerSalaryTitle">Calculate Profit After Ads</h2>
        <button id="closeBuyerSalaryModal" class="close-btn" type="button" aria-label="إغلاق">×</button>
      </div>

      <div class="modal-table-wrap">
        <table>
          <thead>
            <tr>
              <th>Average CPP</th>
              <th>Total Ads Spent</th>
              <th>Net Profit</th>
              <th>30% من الأرباح</th>
              <th>30% من مصروف الإعلانات</th>
              <th>10% من الأرباح + 9000</th>
              <th>5% من المبيعات</th>
            </tr>
          </thead>
          <tbody id="buyerSalaryRows"></tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
